<!doctype html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Coffee Break</title>
<link rel="stylesheet" href="styles.css" />

<!-- Header (calendar must be below this title) -->
<header class="app-header">
  <h1 id="appTitle">â˜• Coffee Break</h1>
  <div class="counts">
    Open now:
    â˜• <span id="countCoffee">0</span>
    &nbsp;&nbsp;ğŸ± <span id="countLunch">0</span>
    &nbsp;&nbsp;ğŸš <span id="countZanpan">0</span>
  </div>
</header>

<!-- Two-column layout below the header -->
<div class="layout">
  <main>
    <!-- 1) Register / Login -->
    <section class="card" id="register">
      <h2>1) Register / Login</h2>
      <label for="email">Email</label>
      <input id="email" type="email" autocomplete="email" required />
      <label for="name">Name</label>
      <input id="name" type="text" autocomplete="name" required />
      <label for="age">Age</label>
      <input id="age" type="number" min="16" max="80" step="1" placeholder="e.g., 28" />
      <div class="row">
        <button id="save">Save / Update</button>
        <span id="saveMsg" class="hint"></span>
      </div>
    </section>

    <!-- 2) Status -->
    <section class="card" id="status">
      <h2>2) Status (<span id="catLabel">Coffee</span>)</h2>

      <!-- Switch-style Open toggle -->
      <div class="switch-row">
        <input id="open" type="checkbox" />
        <label class="switch" for="open"><span class="knob"></span></label>
        <span class="switch-text">Open for <span id="catWord1">Coffee</span> (today)</span>
      </div>

      <!-- Connected dual range (Status preference) -->
      <div class="range-block">
        <div class="range-head">
          <strong>Preferred age range</strong> <span id="ageRangeLabel">20â€“60</span>
        </div>
        <div class="dual-range" id="statusRange">
          <div class="track"></div>
          <div class="fill" id="fillStatus"></div>
          <input id="ageMin" class="min" type="range" min="16" max="80" value="20" />
          <input id="ageMax" class="max" type="range" min="16" max="80" value="60" />
        </div>
        <p class="hint">Drag the two handles to set who youâ€™d like to hear from.</p>
      </div>

      <span id="statusMsg" class="hint"></span>
    </section>

    <!-- 3) [Category] Now -->
    <section class="card" id="yapNow">
      <h2 id="yapHeader">3) Coffee Now</h2>

      <!-- Connected dual range (this ping only) -->
      <div class="range-block">
        <div class="range-head">
          <strong>Age range for this ping</strong> <span id="ageRangeLabelYap">20â€“60</span>
        </div>
        <div class="dual-range" id="yapRange">
          <div class="track"></div>
          <div class="fill" id="fillYap"></div>
          <input id="ageMinYap" class="min" type="range" min="16" max="80" value="20" />
          <input id="ageMaxYap" class="max" type="range" min="16" max="80" value="60" />
        </div>
      </div>

      <!-- NEW: group size (visible for lunch/zanpan, coffee fixed 1-on-1) -->
      <div class="row" id="groupRow" style="display:none">
        <button id="grpMinus" type="button">âˆ’</button>
        <span>Group size: <b id="grpSizeVal">2</b></span>
        <button id="grpPlus" type="button">+</button>
      </div>
      <p class="hint" id="groupHint" style="display:none">Lunch/æ®‹é£¯ can be small groups. Coffee is always 1-on-1.</p>

      <div class="row">
        <button id="yap">Ping Now!</button>
        <span id="yapMsg" class="hint"></span>
      </div>
    </section>
  </main>

  <!-- Calendar (below header by DOM order) -->
  <aside id="calendar">
    <div class="cal-head">
      <button id="calPrev" title="Previous month">â—€</button>
      <div id="calTitle">â€”</div>
      <button id="calNext" title="Next month">â–¶</button>
    </div>
    <div class="cal-weekdays">
      <span>Sun</span><span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span>
    </div>
    <div class="cal-grid" id="calGrid"></div>
    <div class="cal-legend">â˜• Coffeeã€€ğŸ± Lunchã€€ğŸš æ®‹é£¯</div>
  </aside>
</div>

<!-- Bottom back button -->
<a class="btn-back-bottom" href="index.html">â† Change category</a>

<script src="api.gas.js"></script>
<script src="config.js"></script>
<script src="ui.js"></script>


